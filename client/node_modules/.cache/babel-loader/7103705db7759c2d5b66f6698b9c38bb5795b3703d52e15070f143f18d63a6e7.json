{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link,useLocation}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";const FloatingPostButton=()=>{const{user}=useAuth();const location=useLocation();const[isVisible,setIsVisible]=useState(false);// Only show on specific pages when user is logged in\nconst showOnPages=[\"/feed\",\"/explore\",\"/profile\",\"/post\"];const shouldShow=user&&showOnPages.some(page=>location.pathname.startsWith(page)||location.pathname===\"/\");// Handle scroll to show/hide button\nuseEffect(()=>{const handleScroll=()=>{const scrollTop=window.pageYOffset||document.documentElement.scrollTop;// Show button after scrolling 150px down\nsetIsVisible(scrollTop>150);};// Throttle scroll events for better performance\nlet timeoutId;const throttledHandleScroll=()=>{if(timeoutId){clearTimeout(timeoutId);}timeoutId=setTimeout(handleScroll,10);};window.addEventListener(\"scroll\",throttledHandleScroll,{passive:true});return()=>{window.removeEventListener(\"scroll\",throttledHandleScroll);if(timeoutId){clearTimeout(timeoutId);}};},[]);// Don't show on create-post page itself\nif(!shouldShow||location.pathname===\"/create-post\"){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"lg:hidden fixed bottom-20 right-4 z-50 transition-all duration-500 ease-in-out \".concat(isVisible?\"translate-y-0 opacity-100 scale-100\":\"translate-y-16 opacity-0 scale-75 pointer-events-none\"),children:/*#__PURE__*/_jsx(Link,{to:\"/create-post\",className:\"w-14 h-14 floating-post-btn rounded-full flex items-center justify-center transition-all duration-300 group shadow-lg\",title:\"Create Post\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl group-hover:rotate-12 group-hover:scale-110 transition-all duration-300 drop-shadow-lg\",role:\"img\",\"aria-label\":\"pencil\",children:\"\\u270F\\uFE0F\"})})});};export default FloatingPostButton;","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","useAuth","jsx","_jsx","FloatingPostButton","user","location","isVisible","setIsVisible","showOnPages","shouldShow","some","page","pathname","startsWith","handleScroll","scrollTop","window","pageYOffset","document","documentElement","timeoutId","throttledHandleScroll","clearTimeout","setTimeout","addEventListener","passive","removeEventListener","className","concat","children","to","title","role"],"sources":["D:/DevMate/client/src/components/FloatingPostButton.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\nconst FloatingPostButton = () => {\r\n  const { user } = useAuth();\r\n  const location = useLocation();\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  // Only show on specific pages when user is logged in\r\n  const showOnPages = [\"/feed\", \"/explore\", \"/profile\", \"/post\"];\r\n  const shouldShow =\r\n    user &&\r\n    showOnPages.some(\r\n      (page) => location.pathname.startsWith(page) || location.pathname === \"/\"\r\n    );\r\n\r\n  // Handle scroll to show/hide button\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const scrollTop =\r\n        window.pageYOffset || document.documentElement.scrollTop;\r\n      // Show button after scrolling 150px down\r\n      setIsVisible(scrollTop > 150);\r\n    };\r\n\r\n    // Throttle scroll events for better performance\r\n    let timeoutId;\r\n    const throttledHandleScroll = () => {\r\n      if (timeoutId) {\r\n        clearTimeout(timeoutId);\r\n      }\r\n      timeoutId = setTimeout(handleScroll, 10);\r\n    };\r\n\r\n    window.addEventListener(\"scroll\", throttledHandleScroll, { passive: true });\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", throttledHandleScroll);\r\n      if (timeoutId) {\r\n        clearTimeout(timeoutId);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Don't show on create-post page itself\r\n  if (!shouldShow || location.pathname === \"/create-post\") {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`lg:hidden fixed bottom-20 right-4 z-50 transition-all duration-500 ease-in-out ${\r\n        isVisible\r\n          ? \"translate-y-0 opacity-100 scale-100\"\r\n          : \"translate-y-16 opacity-0 scale-75 pointer-events-none\"\r\n      }`}\r\n    >\r\n      <Link\r\n        to=\"/create-post\"\r\n        className=\"w-14 h-14 floating-post-btn rounded-full flex items-center justify-center transition-all duration-300 group shadow-lg\"\r\n        title=\"Create Post\"\r\n      >\r\n        <span\r\n          className=\"text-2xl group-hover:rotate-12 group-hover:scale-110 transition-all duration-300 drop-shadow-lg\"\r\n          role=\"img\"\r\n          aria-label=\"pencil\"\r\n        >\r\n          ✏️\r\n        </span>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FloatingPostButton;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElD,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAEC,IAAK,CAAC,CAAGJ,OAAO,CAAC,CAAC,CAC1B,KAAM,CAAAK,QAAQ,CAAGN,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACO,SAAS,CAAEC,YAAY,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CAEjD;AACA,KAAM,CAAAY,WAAW,CAAG,CAAC,OAAO,CAAE,UAAU,CAAE,UAAU,CAAE,OAAO,CAAC,CAC9D,KAAM,CAAAC,UAAU,CACdL,IAAI,EACJI,WAAW,CAACE,IAAI,CACbC,IAAI,EAAKN,QAAQ,CAACO,QAAQ,CAACC,UAAU,CAACF,IAAI,CAAC,EAAIN,QAAQ,CAACO,QAAQ,GAAK,GACxE,CAAC,CAEH;AACAf,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,SAAS,CACbC,MAAM,CAACC,WAAW,EAAIC,QAAQ,CAACC,eAAe,CAACJ,SAAS,CAC1D;AACAR,YAAY,CAACQ,SAAS,CAAG,GAAG,CAAC,CAC/B,CAAC,CAED;AACA,GAAI,CAAAK,SAAS,CACb,KAAM,CAAAC,qBAAqB,CAAGA,CAAA,GAAM,CAClC,GAAID,SAAS,CAAE,CACbE,YAAY,CAACF,SAAS,CAAC,CACzB,CACAA,SAAS,CAAGG,UAAU,CAACT,YAAY,CAAE,EAAE,CAAC,CAC1C,CAAC,CAEDE,MAAM,CAACQ,gBAAgB,CAAC,QAAQ,CAAEH,qBAAqB,CAAE,CAAEI,OAAO,CAAE,IAAK,CAAC,CAAC,CAC3E,MAAO,IAAM,CACXT,MAAM,CAACU,mBAAmB,CAAC,QAAQ,CAAEL,qBAAqB,CAAC,CAC3D,GAAID,SAAS,CAAE,CACbE,YAAY,CAACF,SAAS,CAAC,CACzB,CACF,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,GAAI,CAACX,UAAU,EAAIJ,QAAQ,CAACO,QAAQ,GAAK,cAAc,CAAE,CACvD,MAAO,KAAI,CACb,CAEA,mBACEV,IAAA,QACEyB,SAAS,mFAAAC,MAAA,CACPtB,SAAS,CACL,qCAAqC,CACrC,uDAAuD,CAC1D,CAAAuB,QAAA,cAEH3B,IAAA,CAACJ,IAAI,EACHgC,EAAE,CAAC,cAAc,CACjBH,SAAS,CAAC,uHAAuH,CACjII,KAAK,CAAC,aAAa,CAAAF,QAAA,cAEnB3B,IAAA,SACEyB,SAAS,CAAC,iGAAiG,CAC3GK,IAAI,CAAC,KAAK,CACV,aAAW,QAAQ,CAAAH,QAAA,CACpB,cAED,CAAM,CAAC,CACH,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}